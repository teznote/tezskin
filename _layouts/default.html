<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
        <title>{{ site.title }}</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css"/>
        <link rel="stylesheet" href="https://cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/github.min.css" integrity="sha512-0aPQyyeZrWj9sCA46UlmWgKOP0mUipLQ6OZXu8l4IcAmD2u31EPEy9VcIMvl7SoAaKe8bLXZhYoMaE/in+gcgA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <link rel="stylesheet" href="{{ '/assets/highlightjs-custom.css' | relative_url }}"/>
        <link rel="stylesheet" href="{{ '/assets/style.css' | relative_url }}"/>
    </head>
    <body>
        {{ content }}
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js" integrity="sha512-gU7kztaQEl7SHJyraPfZLQCNnrKdaQi5ndOyt4L4UPL/FHDd/uB9Je6KDARIqwnNNE27hnqoWLBq+Kpe4iHfeQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/excel.min.js" integrity="sha512-V7I7SdhDhJxPhPrvIHpy+FBERbKPihUHkDOiuxC+rG+knFAIcT2DGj5VLUZVJCwa4NNjHkBVH8GMCt32HyiMPA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/vbnet.min.js" integrity="sha512-LNPAc119nGOqL6purcvlWX0dBb+KGz+ylhJJ3h6Pv+6ots12zKj2fYsTYfHgE6sMTowvpMc8uwqoo0mntHn/rQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="{{ 'assets/pseudo.js' | relative_url }}"></script>
        <script>
            hljs.highlightAll();
        </script>
        <script>
            var target = "{{ '/assets/nav.html' | relative_url  }}";
            fetch(target).then(function(response) {
                return response.text();
            }).then(function(body) {
                document.querySelector('.nav').innerHTML = body;
                return;
            }).then(function() {
                var cats = document.querySelectorAll('.nav .category ul li');
                var posts = document.querySelectorAll('.nav .post ul li');
                var cur = document.location.href.match(/(https?:\/\/[a-zA-Z0-9.:]+)([a-zA-Z0-9\/%_.-]+)/);

                for (var el of cats) {
                    el.addEventListener('click', function(e) {
                        for (var x of cats) {
                            if (x === e.target) {
                                x.classList.add('current');
                            } else {
                                x.classList.remove('current');
                            }
                        }
                        for (var y of document.querySelectorAll('.nav .post ul')) {
                            if (y.getAttribute('cat') === e.target.getAttribute('cat')) {
                                y.classList.remove('hidden');
                            } else {
                                y.classList.add('hidden');
                            }
                        }
                    });
                }

                if (cur) {
                    var find = false;
                    var t = '';
                    for (var el of posts) {
                        var href = el.firstElementChild.getAttribute('href');
                        if (href === cur[2]) {
                            el.classList.add('current');
                            find = true;
                            t = el.parentElement.getAttribute('cat');
                            break;
                        }
                    }
                    if (find) {
                        document.querySelector(`.nav .category ul li[cat=${t}]`).dispatchEvent(new Event('click', {bubbles: true}));
                    }  else {
                        document.querySelectorAll('.nav .category ul li')[0].dispatchEvent(new Event('click', {bubbles: true}));
                    }
                }
            }).then(function() {
                var c = document.querySelector('.nav .post ul li.current');
                console.log('before var c = ');
                if (c) {
                    console.log(c, c.offsetHeight, c.offsetTop);
                    c.parentElement.scrollTo(0, c.offsetTop - c.parentElement.offsetHeight/2 - c.offsetHeight*2);
                }
            
            });
        </script>
    </body>
</html>
